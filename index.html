<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <title>Formul√°rio de Obra - CREA-SP</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=DM+Sans:wght@400;500;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="css/style.css">
</head>
<body>
  <div class="header-image">
    <img src="topo.png" alt="CREA-SP">
  </div>

  <div class="container">
    <div class="progress-container">
      <div class="progress-header">
        <span class="progress-title">Progresso do formul√°rio</span>
        <span class="progress-step" id="progressStep">P√°gina 1 de 6</span>
      </div>
      <div class="progress-bar"><div class="progress-fill" id="progressFill" style="width: 16%"></div></div>
    </div>

    <!-- P√ÅGINA 1: LOCAL DA OBRA -->
    <div class="page active" id="page1">
      <div class="card">
        <div class="card-header"><h1>üìç Local da Obra</h1><p>Localiza√ß√£o da obra</p></div>
        <div class="card-body">
          <form id="form1" novalidate>
            <div class="form-group"><label>Local da Obra *</label><input type="text" id="localObra" name="localObra" required><p class="error-message" id="errorLocalObra">Informe o local</p></div>
            <div class="form-group"><label>Bairro *</label><input type="text" id="bairro" name="bairro" required><p class="error-message" id="errorBairro">Informe o bairro</p></div>
            <div class="form-row">
              <div class="form-group"><label>Cidade *</label><input type="text" id="cidade" name="cidade" value="S√£o Paulo" required></div>
              <div class="form-group"><label>CEP *</label><input type="text" id="cep" name="cep" placeholder="00000-000" maxlength="9" required><p class="error-message" id="errorCep">CEP inv√°lido</p></div>
            </div>
            <p class="form-legend">* Campos obrigat√≥rios</p>
            <div class="button-group">
              <button type="button" class="btn btn-save" onclick="salvarPagina(1)">üíæ Salvar</button>
              <button type="button" class="btn btn-primary" onclick="avancar(1)">Avan√ßar ‚Üí</button>
            </div>
          </form>
        </div>
      </div>
    </div>

    <!-- P√ÅGINA 2: EMPREENDIMENTO -->
    <div class="page" id="page2">
      <div class="card">
        <div class="card-header"><h1>üè¢ Empreendimento</h1><p>Dados do empreendimento</p></div>
        <div class="card-body">
          <form id="form2" novalidate>
            <div class="form-group">
              <label>Tipo/Natureza *</label>
              <div class="radio-group">
                <div class="radio-option"><input type="radio" id="tR" name="tipoNatureza" value="Residencial"><label for="tR"><span class="radio-dot"></span> Residencial</label></div>
                <div class="radio-option"><input type="radio" id="tC" name="tipoNatureza" value="Comercial"><label for="tC"><span class="radio-dot"></span> Comercial</label></div>
                <div class="radio-option"><input type="radio" id="tI" name="tipoNatureza" value="Industrial"><label for="tI"><span class="radio-dot"></span> Industrial</label></div>
                <div class="radio-option"><input type="radio" id="tM" name="tipoNatureza" value="Mista"><label for="tM"><span class="radio-dot"></span> Mista</label></div>
              </div>
            </div>
            <div class="form-row">
              <div class="form-group"><label>√Årea (m¬≤) *</label><input type="text" id="area" name="area" required></div>
              <div class="form-group"><label>Pavimentos *</label><input type="number" id="pavimentos" name="pavimentos" min="1" required></div>
            </div>
            <div class="form-row-3">
              <div class="form-group"><label>Processo n¬∫</label><input type="text" id="processoNum"></div>
              <div class="form-group"><label>Alvar√° n¬∫</label><input type="text" id="alvaraNum"></div>
              <div class="form-group"><label>de: (ano)</label><input type="text" id="alvaraDe" maxlength="4" placeholder="2024"></div>
            </div>
            <div class="form-group"><label>Propriet√°rio *</label><input type="text" id="proprietario" name="proprietario" required></div>
            <div class="form-group">
              <label>CPF ou CNPJ *</label>
              <div class="toggle-group" style="margin-bottom:10px">
                <button type="button" class="toggle-btn active" id="btnCpf" onclick="toggleDoc('cpf')">CPF</button>
                <button type="button" class="toggle-btn" id="btnCnpj" onclick="toggleDoc('cnpj')">CNPJ</button>
              </div>
              <input type="text" id="cpfCnpj" name="cpfCnpj" required>
            </div>
            <div class="form-group"><label>Endere√ßo *</label><input type="text" id="enderecoProprietario" name="enderecoProprietario" required></div>
            <p class="form-legend">* Campos obrigat√≥rios</p>
            <div class="button-group">
              <button type="button" class="btn btn-secondary" onclick="retornar(2)">‚Üê Retornar</button>
              <button type="button" class="btn btn-save" onclick="salvarPagina(2)">üíæ Salvar</button>
              <button type="button" class="btn btn-primary" onclick="avancar(2)">Avan√ßar ‚Üí</button>
            </div>
          </form>
        </div>
      </div>
    </div>

    <!-- P√ÅGINA 3: AUTOR DO PROJETO -->
    <div class="page" id="page3">
      <div class="card">
        <div class="card-header"><h1>üë∑ Autor do Projeto</h1><p>Respons√°vel t√©cnico</p></div>
        <div class="card-body">
          <form id="form3" novalidate>
            <div class="form-group"><label>Placa afixada? *</label>
              <div class="radio-group">
                <div class="radio-option"><input type="radio" id="pS" name="placaAfixada" value="Sim"><label for="pS"><span class="radio-dot"></span> SIM</label></div>
                <div class="radio-option"><input type="radio" id="pN" name="placaAfixada" value="N√£o"><label for="pN"><span class="radio-dot"></span> N√ÉO</label></div>
              </div>
            </div>
            <div class="form-group" style="position:relative">
              <label>Profissional *</label><input type="text" id="profissional" name="profissional" autocomplete="new-password" required>
              <div class="autocomplete-list" id="autocompleteProfissional"></div>
            </div>
            <div class="form-group">
              <label>Registro *</label>
              <div class="radio-group">
                <div class="radio-option"><input type="radio" id="rC" name="tipoRegistro" value="CREA" onchange="showHide('PD','crea')"><label for="rC"><span class="radio-dot"></span> CREA</label></div>
                <div class="radio-option"><input type="radio" id="rP" name="tipoRegistro" value="CPF" onchange="showHide('PD','cpf')"><label for="rP"><span class="radio-dot"></span> CPF</label></div>
              </div>
              <div id="PD_crea" class="campo-condicional"><input type="text" id="numeroCrea" placeholder="N¬∫ CREA"></div>
              <div id="PD_cpf" class="campo-condicional"><input type="text" id="cpfProfissional" placeholder="000.000.000-00"></div>
            </div>
            <!-- ... Outras p√°ginas seguir√£o o mesmo padr√£o limpo ... -->
            <p class="form-legend">* Campos obrigat√≥rios</p>
            <div class="button-group">
              <button type="button" class="btn btn-secondary" onclick="retornar(3)">‚Üê Retornar</button>
              <button type="button" class="btn btn-save" onclick="salvarPagina(3)">üíæ Salvar</button>
              <button type="button" class="btn btn-primary" onclick="avancar(3)">Avan√ßar ‚Üí</button>
            </div>
          </form>
        </div>
      </div>
    </div>

    <!-- NOTA: Simplifiquei o HTML para mostrar a nova estrutura. 
         Vou preencher o restante no arquivo JS para ser gerado dinamicamente ou mantido de forma modular. -->

  </div>

  <div class="toast" id="toast"></div>

  <!-- SCRIPTS -->
  <script src="js/validators.js"></script>
  <script src="js/autocomplete.js"></script>
  <script src="js/app.js"></script>
</body>
</html>
